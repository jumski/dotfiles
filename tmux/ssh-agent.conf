# SSH Agent configuration for tmux
# Use static socket path from systemd-managed ssh-agent
# This prevents tmux from caching stale socket paths

# Set the static socket path globally
set-environment -g SSH_AUTH_SOCK "$XDG_RUNTIME_DIR/ssh-agent.socket"

# Remove SSH_AUTH_SOCK from update-environment so tmux doesn't override our static path
# Default update-environment includes: DISPLAY SSH_ASKPASS SSH_AGENT_PID SSH_CONNECTION WINDOWID XAUTHORITY
set -g update-environment "DISPLAY SSH_ASKPASS SSH_AGENT_PID SSH_CONNECTION WINDOWID XAUTHORITY"
