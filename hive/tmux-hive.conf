# Hive - Tmux workspace management for agentic coding
# Source this file from tmux.conf.symlink

# Clean up old hooks from previous versions
set-hook -ug window-renamed
set-hook -ug session-renamed

# Hive spawn popup (prefix + h)
bind h popup -E -w 60% -h 60% 'fish -C "hive spawn; exit 0"'

# Badge clearing on pane/window/session selection
# This removes notification badges when you switch panes, windows, or sessions
set-hook -g after-select-pane 'run-shell -b "~/.dotfiles/hive/scripts/clear-badge.sh #{window_id}"'
set-hook -g after-select-window 'run-shell -b "~/.dotfiles/hive/scripts/clear-badge.sh #{window_id}"'
set-hook -g client-session-changed 'run-shell -b "~/.dotfiles/hive/scripts/clear-badge.sh #{window_id}"'
